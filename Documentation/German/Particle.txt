;
;     Particle library documentation
;
;      (c) 2025 - Fantaisie Software
;

@Library Particle

@Overview
  Partikel-Systeme (englisch: "Particle systems") werden häufig bei 3D-Szenen verwendet,
  um schwer vorherzusagende Ereignisse - wie Regen, Feuer, Explosionen usw. - zu simulieren.
@LineBreak
@LineBreak
  PureBasic ermöglicht je nach Bedarf das Erstellen einer beliebigen Anzahl an
  "Partikel-Strahlern" (englisch "Particle emitter"), welche unabhängig voneinander laufen. Jeder Strahler hat seine
  eigene Form und seine eigenen Merkmale, wie Geschwindigkeit, Ausstrahlungstempo und mehr. 
@LineBreak
@LineBreak
  @@InitEngine3D muss erfolgreich aufgerufen worden sein, bevor einer der
  Particle-Befehle verwendet werden kann.

@CommandList

@ExampleFile All Particle.pb

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = CreateParticleEmitter(#ParticleEmitter, Breite, Höhe, Tiefe, Typ [, x.f, y.f, z.f])

@Description
  Erstellt einen neuen leeren Partikelstrahler der angegebenen Größe.
    
@Parameter "#ParticleEmitter"
  Eine Nummer zum Identifizieren des neuen Partikelstrahlers.
  @ReferenceLink "purebasic_objects" "#PB_Any" kann verwendet werden, um diese
  Nummer automatisch zu generieren.

@Parameter "Breite, Höhe, Tiefe"
  Die Größe des neuen Partikelstrahlers (beziehungsweise die x, y und z Dimensionen).
  Die Standardgröße künftiger Partikel kann mit Hilfe der @@ParticleSize Funktion
  festgelegt werden.

@Parameter "Type"
  Dies kann einer der folgenden Werte sein:
@FixedFont
  @#PB_Particle_Point: Der Strahler ist ein einfacher Punkt.
  @#PB_Particle_Box  : Der Strahler ist eine Box, mit einer Breite, Höhe und Tiefe.
@EndFixedFont

@OptionalParameter "x, y, z"
  Die anfängliche Position des Partikelstrahlers in der Welt.
  
@ReturnValue
  Ein Wert ungleich Null, wenn der Partikelstrahler erfolgreich erstellt wurde,
  andernfalls Null. Wenn @ReferenceLink "purebasic_objects" "#PB_Any" als
  @#ParticleEmitter Parameter verwendet wurde, dann wird die automatisch generierte
  Nummer des neuen Partikelstrahlers zurückgegeben.

@SeeAlso
  @@FreeParticleEmitter

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = IsParticleEmitter(#ParticleEmitter)

@Description
  Überprüft, ob der angegebene Partikelstrahler gültig und korrekt initialisiert ist.

@Parameter "#ParticleEmitter"
  Der zu überprüfende Partikelstrahler.

@ReturnValue
  Ein Wert ungleich Null, wenn der Partikelstrahler gültig ist, andernfalls Null.

@Remarks
  Diese Funktion ist "kugelsicher" und kann mit jedem Wert verwendet werden. Dies ist der
  korrekte Weg, um sicherzugehen, dass ein Partikelstrahler fertig zur Benutzung ist.

@SeeAlso
  @@CreateParticleEmitter
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function DisableParticleEmitter(#ParticleEmitter, Status)

@Description
  Aktiviert oder deaktiviert den Partikelstrahler. Wenn er deaktiviert ist, dann
  werden keine weiteren Partikel ausgestrahlt.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Status"
  Dieser kann einen der folgenden Werte annehmen:
@FixedFont
  @#True : Der Partikelstrahler ist deaktiviert.
  @#False: Der Partikelstrahler ist aktiviert.
@EndFixedFont  

@NoReturnValue
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleEmitterID = ParticleEmitterID(#ParticleEmitter)

@Description
  Gibt den einmaligen Systembezeichner ("system identifier") des Partikelstrahlers zurück.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@ReturnValue
  Der einmalige Systembezeichner ("system identifier") des Partikelstrahlers.

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = ParticleEmitterX(#ParticleEmitter [, Modus])

@Description
  Gibt die 'x' Position des Partikelstrahlers innerhalb der Welt zurück.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@OptionalParameter "Modus"
  Der Modus, um die 'x' Position zu ermitteln. Dies kann einer der folgenden Werte sein:
@FixedFont
  @#PB_Absolute: ermittelt die absolute 'x' Position des Partikelstrahlers in der Welt (Standard).
  @#PB_Relative: ermittelt die 'x' Position des Partikelstrahlers relativ zu seinem übergeordneten ("parent").
@EndFixedFont

@ReturnValue
  Die Position des Partikelstrahlers in der Welt (abhängig vom angegebenen 'Modus').

@SeeAlso
  @@ParticleEmitterY, @@ParticleEmitterZ

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = ParticleEmitterY(#ParticleEmitter [, Modus])

@Description
  Gibt die 'y' Position des Partikelstrahlers innerhalb der Welt zurück.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@OptionalParameter "Modus"
  Der Modus, um die 'y' Position zu ermitteln. Dies kann einer der folgenden Werte sein:
@FixedFont
  @#PB_Absolute: ermittelt die absolute 'y' Position des Partikelstrahlers in der Welt (Standard).
  @#PB_Relative: ermittelt die 'y' Position des Partikelstrahlers relativ zu seinem übergeordneten ("parent").
@EndFixedFont

@ReturnValue
  Die Position des Partikelstrahlers in der Welt (abhängig vom angegebenen 'Modus').

@SeeAlso
  @@ParticleEmitterX, @@ParticleEmitterZ

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = ParticleEmitterZ(#ParticleEmitter [, Modus])

@Description
  Gibt die 'z' Position des Partikelstrahlers innerhalb der Welt zurück.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@OptionalParameter "Modus"
  Der Modus, um die 'z' Position zu ermitteln. Dies kann einer der folgenden Werte sein:
@FixedFont
  @#PB_Absolute: ermittelt die absolute 'z' Position des Partikelstrahlers in der Welt (Standard).
  @#PB_Relative: ermittelt die 'z' Position des Partikelstrahlers relativ zu seinem übergeordneten ("parent").
@EndFixedFont

@ReturnValue
  Die Position des Partikelstrahlers in der Welt (abhängig vom angegebenen 'Modus').

@SeeAlso
  @@ParticleEmitterX, @@ParticleEmitterY

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleEmitterAngle(#ParticleEmitter, Winkel.f)

@Description
  Ändert die emittierten Partikelwinkel. Alle Teilchen haben den gleichen Winkel.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Winkel.f"
  Der neue Teilchenwinkel, in Grad.
   
@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleEmissionRate(#ParticleEmitter, Rate)

@Description
  Ändert die Ausstrahlungsrate (englisch: "emission rate") des Partikelstrahlers.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Rate"
  Die neue Partikel-Ausstrahlungsrate, in Partikel pro Sekunde.
   
@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleMaterial(#ParticleEmitter, MaterialID)

@Description
  Weist dem angegebenen Partikelstrahler ein Material zu.
  Dieses Material wird von allen Partikeln dieses Strahlers verwendet.
  Ein Strahler kann nur ein Material zur gleichen Zeit zugeordnet bekommen.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "MaterialID"
  Das für diesen Partikelstrahler zu verwendende neue Material. Eine gültige 'MaterialID'
  kann einfach mit Hilfe der @@MaterialID Funktion ermittelt werden.

@NoReturnValue

@SeeAlso
  @@MaterialID
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleTimeToLive(#ParticleEmitter, MininumZeit, MaximumZeit)

@Description
  Ändert die Lebensdauer der Partikel des Partikelstrahlers.
  Jeder Partikel "lebt" mindestens die 'MinimumZeit' und maximal die
  'MaximumZeit' (in Welt-Zeiteinheiten). Ein Zufallswert innerhalb dieser
  Spanne wird für jeden ausgestrahlten Partikel verwendet.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "MininumZeit"
  Die minimale Zeit eines Partikels, bevor dieser freigegeben wird.

@Parameter "MaximumZeit"
  Die maximale Zeit eines Partikels, bevor dieser freigegeben wird.

@NoReturnValue
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleVelocity(#ParticleEmitter, Minimum, Maximum)

@Description
  Ändert die Partikel-Geschwindigkeit. Ein zufälliger Geschwindigkeitswert aus der
  'Minimum' und 'Maximum' Spanne wird für jeden ausgestrahlten Partikel benutzt.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Minimum"
  Die minimale Geschwindigkeit eines Partikels.

@Parameter "Maximum"
  Die maximale Geschwindigkeit eines Partikels.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleAcceleration(#ParticleEmitter, x.f, y.f, z.f)

@Description
  Ändert den Beschleunigungsvektor ("acceleration vector") der Teilchen. Dies kann
  nützlich sein, um Schwerkraft, Wind, etc. zu simulieren.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "x, y, z"
  Der Beschleunigungs- (Kraft-) Vektor, der auf alle Partikel angewendet werden soll.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleSize(#ParticleEmitter, Breite, Höhe)

@Description
  Ändert die Partikel-Dimensionen. Partikel sind 2D-Ebenen ("Billboards"), welche sich immer vor der
  Kamera befinden. Alle Partikel eines Strahlers haben immer die gleiche Größe.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Breite, Höhe"
  Die neue Größe der Partikel, in Welt-Einheiten.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleColorRange(#ParticleEmitter, StartFarbe, EndFarbe)

@Description
  Ändert den Farbbereich für den Partikelstrahler. Jeder ausgestrahlte Partikel erhält
  einen Zufallswert aus dem Farbbereich 'StartFarbe' und 'EndFarbe' (= Farbverlauf zwischen
  diesen zwei Farben, englisch "gradient").
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "StartFarbe"
  Die erste Farbe des Partikels.
  @@RGB kann zum Ermitteln eines gültigen Farbwertes benutzt werden.

@Parameter "EndFarbe"
  Die letzte Farbe des Partikels.
  @@RGB kann zum Ermitteln eines gültigen Farbwertes benutzt werden.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleColorFader(#ParticleEmitter, RotRate.f, GrünRate.f, BlauRate.f, AlphaRate.f)

@Description
  Ändert die Farb-Blend-Raten (englisch: "color fader rate") der Partikel.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "RotRate, GrünRate, BlauRate, AlphaRate"
  Die anzuwendenden Farbkanal-Blendraten, pro Sekunde. Beispielwerte und ihr Effekt:
@FixedFont
     0: es wird keine Änderung vorgenommen.
    -1: wird jede Sekunde 256 von der Farbkomponente subtrahieren.
     1: wird jede Sekunde 256 zur Farbkomponente addieren.
 -0.25: wird jede Sekunde 64 von der Farbkomponente subtrahieren.
@EndFixedFont

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function FreeParticleEmitter(#ParticleEmitter)

@Description
  Gibt den Partikelstrahler frei. Sein gesamter zugehöriger Speicher
  wird freigegeben und dieses Objekt kann nicht mehr benutzt werden.

@Parameter "#ParticleEmitter"
  Der freizugebende Partikelstrahler. Wenn @#PB_All angegeben wird, dann werden alle
  verbliebenen Partikelstrahler freigegeben.
  
@NoReturnValue

@Remarks
  Alle verbleibenden Partikelstrahler werden automatisch freigegeben, wenn das
  Programm endet.

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function HideParticleEmitter(#ParticleEmitter, Status)

@Description
  Versteckt oder zeigt den angegebenen Partikelstrahler.

@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Status"
  Dieser kann folgende Werte annehmen:
@FixedFont
  @#True : der Partikelstrahler wird versteckt
  @#False: der Partikelstrahler wird angezeigt
@EndFixedFont

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function MoveParticleEmitter(#ParticleEmitter, x.f, y.f, z.f [, Modus])

@Description
  Bewegt den angegebenen Partikelstrahler.

@Parameter "#ParticleEmitter"
  Der zu bewegende Partikelstrahler.

@Parameter "x, y, z"
  Die neue Position des Partikelstrahlers.

@Parameter "Modus"
  Dies kann einer der folgenden Werte sein:
@FixedFont
  @#PB_Relative: relative Bewegung, ausgehend von der aktuellen Partikelstrahler-Position (Standard).
  @#PB_Absolute: absolute Bewegung an die angegebene Position.
@EndFixedFont
  kombiniert mit einem der folgenden Werte:
@FixedFont
  @#PB_Local : lokale Bewegung.
  @#PB_Parent: Bewegung relativ zur übergeordneten ("parent") Position.
  @#PB_World : Bewegung relativ zur Welt.
@EndFixedFont

@NoReturnValue  

@SeeAlso
  @@ParticleEmitterX, @@ParticleEmitterY, @@ParticleEmitterZ

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleEmitterDirection(#ParticleEmitter, x.f, y.f, z.f)

@Description
  Ändert die Richtung des Partikelstrahlers entsprechend den 
  angegebenen 'x, y, z' Werten. 
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "x, y, z"  
  Der neue Richtungsvektor des Partikelstrahlers.
  
@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ResizeParticleEmitter(#ParticleEmitter, Breite, Höhe, Tiefe)

@Description
  Verändert die Größe des Partikelstrahlers auf die neu angegebenen 'Breite',
  'Höhe' und 'Tiefe' Dimensionen, in Welt-Maßeinheiten.

@Parameter "#ParticleEmitter"
  Der in der Größe zu ändernde Partikelstrahler.

@Parameter "Breite, Höhe, Tiefe"
  Die neue Größe des Partikelstrahlers (beziehungsweise der x, y und z Dimension).
  
@NoReturnValue

  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = GetScriptParticleEmitter(#ParticleEmitter, Name$)

@Description
  Ermittelt den in der OGRE-Skriptdatei definierten Partikelstrahler.
  
@Parameter "#ParticleEmitter"
  Eine Nummer, um den neuen Partikelstrahler zu identifizieren.
  @ReferenceLink "purebasic_objects" "#PB_Any" kann verwendet werden, um diese Zahl automatisch zu generieren.

@Parameter "Name$"
  Der Name des Partikelstrahlers in der OGRE-Skriptdatei. Dieser Name berücksichtigt die
  Groß- und Kleinschreibung.

@ReturnValue
  Null, wenn der Partikelstrahler nicht gefunden wurde oder nicht aus den
  Skriptdateien geladen werden konnte. Wenn @ReferenceLink "purebasic_objects" "#PB_Any"
  als '#ParticleEmitter' Parameter verwendet wurde, dann wird die neue Nummer des
  Partikelstrahlers zurückgegeben.

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleSpeedFactor(#ParticleEmitter, Faktor.f)

@Description
  Ändert den aktuellen Geschwindigkeitsfaktor des Partikelstrahlers.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Faktor"
  Der neue Geschwindigkeitsfaktor des Partikelstrahlers. Der Standard-Geschwindigkeitsfaktor
  ist 1. Bei Verwendung eines Wertes größer als 1 wird die Ausstrahl-Geschwindigkeit erhöht.
  Bei Verwendung eines Wertes kleiner als 1 wird die Ausstrahl-Geschwindigkeit gesenkt.
@LineBreak
  Zum Beispiel wird bei Verwendung eines Geschwindigkeitsfaktors von '4.5' die
  Ausgabe-Geschwindigkeit der Partikel um das 4,5-fache multipliziert. Bei Verwendung
  eines Geschwindigkeitsfaktors von '0.5' wird die Ausgabe-Geschwindigkeit dagegen
  halbiert.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleScaleRate(#ParticleEmitter, Rate.f)

@Description
  Ändert die aktuelle Skalierrate des Partikelstrahlers.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "Rate"
  Die neue Partikelstrahler-Skalierrate. Die Standardrate ist 0, was bedeutet, dass das Partikel die gleiche Größe haben wird.
  Wenn ein Wert größer als 0 verwendet wird, erhöht sich die Partikelgröße im Laufe der Zeit (jede Sekunde wird die Rate zur aktuellen Größe addiert).
  Wenn ein Wert unter 0 verwendet wird, wird die Partikelgröße im Laufe der Zeit verringert (jede Sekunde wird die Rate von der aktuellen Größe abgezogen).
@LineBreak
@LineBreak
  Zum Beispiel: @LineBreak
  Eine Rate von 10 wird die Partikelgröße um 10 Einheiten pro Sekunde vergrößern.@LineBreak
  Eine Rate von -2 wird die Partikelgröße um 2 Einheiten pro Sekunde verringern.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ParticleAngle(#ParticleEmitter, BereichStart.f, BereichEnde.f [, GeschwindigkeitBereichStart.f, GeschwindigkeitBereichEnde.f])

@Description
  Ändert den Partikelwinkel bei der Emission.
  
@Parameter "#ParticleEmitter"
  Der zu verwendende Partikelstrahler.

@Parameter "BereichStart, BereichEnde"
  Der Partikelbereich (in Grad) zwischen 0 und 360. Zum Beispiel wird ein Bereich von 45 bis 90 nur Partikel mit einem
  zufälligen Winkel zwischen 45 und 90 Grad emittieren.

@Parameter "GeschwindigkeitBereichStart, GeschwindigkeitBereichEnde"
  Gibt den Bereich der Rotationsgeschwindigkeit des emittierten Partikels an. Eine zufällige Rotationsgeschwindigkeit
  wird aus diesem Bereich ausgewählt, wenn ein neues Partikel emittiert wird.

@Remarks
  Um Anzeigefehler zu vermeiden, sollte das Partikelmaterial so konfiguriert werden, dass es nicht mit
  SetMaterialAttribute(Material, @#PB_Material_TAM, @#PB_Material_ClampTAM) wiederholbar ist.

@NoReturnValue

@SupportedOS
