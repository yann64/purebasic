;
;     Mouse library documentation - MultiOS version !
;
;      (c) 2025 - Fantaisie Software
;

@Library Mouse

@Overview
  PureBasic bietet vollen Zugriff auf die am Computer angeschlossenen
  Mäuse. Es unterstützt Standard-Mäuse mit bis zu 3 Knöpfen. Diese Bibliothek ist
  optimiert und benutzt "low-level" (hardware-nahe) Funktionen, speziell zur
  Benutzung in Spielen.
  @LineBreak
  @LineBreak
  Verwenden Sie die Befehle dieser Bibliothek nicht in einer regulären Applikation,
  realisieren Sie in diesem Fall die Mausabfrage mittels @@WindowMouseX,
  @@WindowMouseY und @@EventType.
  
@OS Windows
  Auf Windows wird DirectX verwendet.

@CommandList

@ExampleFile All Mouse.pb

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = InitMouse()

@Description
  Initialisiert die Programmumgebung zur weiteren Benutzung der Maus-Befehle. Sie müssen
  diese Funktion vor allen anderen Befehlen dieser Library aufrufen. Ist das Ergebnis
  gleich Null, ist keine Maus verfügbar.

@NoParameters

@ReturnValue
  Ungleich Null, wenn die Maus-Funktionen verfügbar sind, andernfalls Null.
  
@OS Windows
  @LineBreak
  @LineBreak
  Diese Funktion versucht, DirectX (v3.0 mit NT4.0-Kompatibilität oder andernfalls v7.0) zu öffnen.
  Schlägt dies fehl, ist DirectX entweder nicht verfügbar oder zu alt für die Verwendung.
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = ExamineMouse() 

@Description
  Aktualisiert den Maus-Status. Dieser Befehl sollte vor @@MouseDeltaX, @@MouseDeltaY, @@MouseX,
  @@MouseY oder @@MouseButton benutzt werden.
  
@NoParameters

@ReturnValue
  Ungleich Null, wenn der Maus-Status aktualisiert wurde, andernfalls Null.

@Remarks
  Der erste Aufruf von ExamineMouse() begrenzt die Maus auf den aktiven @Link "Screen/OpenScreen" "Screen"
  oder @Link "Screen/OpenWindowedScreen" "'WindowedScreen'".
  Die Maus ist nach einem Aufruf von @Link "ReleaseMouse" "ReleaseMouse(#True)" oder nach Ende dieses
  Programms wieder für das gesamte System verfügbar.
  @LineBreak
  @LineBreak
  Im @Link "Screen/OpenScreen" "Vollbild-Modus" muss der Befehl @@FlipBuffers innerhalb Ihrer
  Ereignisschleife aufgerufen werden, um alle Ereignisse korrekt zu verarbeiten.

@SeeAlso
  @@ExamineMouse, @@MouseDeltaX, @@MouseDeltaY, @@MouseX, @@MouseY, @@MouseButton
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = MouseButton(Mausknopf)

@Description
  Gibt Null zurück, wenn der angegebene 'Mausknopf' nicht gedrückt wird, andernfalls ist der Knopf gedrückt. Eine beliebige
  Anzahl an Knöpfen kann zur gleichen Zeit gedrückt sein. @@ExamineMouse sollte vor dieser
  Funktion aufgerufen werden, um den aktuellen Status der Mausknöpfe zu ermitteln.

@Parameter "Mausknopf"
  Dies kann eine der folgenden Konstanten sein:
@FixedFont
  @#PB_MouseButton_Left  : Überprüft, ob die linke Maustaste gedrückt wird
  @#PB_MouseButton_Right : Überprüft, ob die rechte Maustaste gedrückt wird
  @#PB_MouseButton_Middle: Überprüft, ob die mittlere Maustaste gedrückt wird
@EndFixedFont

@ReturnValue
  Ungleich Null, wenn der angegebene Mausknopf gedrückt wird, andernfalls Null.

@SeeAlso
  @@ExamineMouse

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = MouseDeltaX()

@Description
  Gibt die Mausbewegung auf der X-Achse (in Pixel) seit dem letzten Aufruf dieser Funktion
  zurück.
  
@NoParameters

@ReturnValue
  Die 'x'-Bewegung der Maus (in Pixel) seit dem letzten Aufruf dieser Funktion.
  Dies kann entweder ein negativer oder ein positiver Wert sein, je nachdem ob
  die Maus seit dem letzten Aufruf nach links oder rechts bewegt 
  wurde. @@ExamineMouse sollte vor dieser Funktion aufgerufen werden, um die aktuelle
  Maus-Position zu ermitteln.

@SeeAlso
  @@ExamineMouse, @@MouseDeltaY

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = MouseDeltaY()

@Description
  Gibt die Mausbewegung auf der Y-Achse (in Pixel) seit dem letzten Aufruf dieser Funktion
  zurück. 
  
@NoParameters

@ReturnValue
  Die 'y'-Bewegung der Maus (in Pixel) seit dem letzten Aufruf dieser Funktion.
  Dies kann entweder ein negativer oder ein positiver Wert sein, je nachdem ob
  die Maus seit dem letzten Aufruf nach oben oder unten bewegt 
  wurde. @@ExamineMouse sollte vor dieser Funktion aufgerufen werden, um die aktuelle
  Maus-Position zu ermitteln.

@SeeAlso
  @@ExamineMouse, @@MouseDeltaX

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function MouseLocate(x, y)

@Description
  Verändert die absolute Position (in Pixel) der Maus auf dem aktuellen Bildschirm (Screen). Dies
  ist nützlich in Verbindung mit den @@MouseX bzw. @@MouseY Befehlen.
  
@Parameters "x, y"
  Die neue absolute Position (in Pixel) der Maus auf dem aktuellen Bildschirm.
  The new absolute position (in pixels) of the mouse in the current screen.

@NoReturnValue
  
@SeeAlso
  @@ExamineMouse, @@MouseX, @@MouseY

@SupportedOS

;--------------------------------------------------------------------------------------------------------


@Function Ergebnis = MouseWheel()

@Description
  Gibt die Anzahl der seit dem letzten Aufruf erfolgten "Ticks" des Mausrads zurück.
  Der Befehl @@ExamineMouse sollte vor dieser Funktion
  aufgerufen werden, um die Mausinformationen zu aktualisieren.

@NoParameters

@ReturnValue
  Die Anzahl an Ticks, um die das Mausrad seit dem letzten Funktionsaufruf bewegt
  wurde. Der Wert ist positiv, wenn das Rad vorwärts gedreht wurde und negativ, wenn das
  Rad rückwärts gedreht wurde.
  
@SeeAlso
  @@ExamineMouse

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = MouseX()

@Description
  Gibt die aktuelle Maus-Position (in Pixel) auf der X-Achse des aktuellen Bildschirms
  zurück. Die Maus-Position kann einfach mit dem @@MouseLocate Befehl verändert werden.
  @@ExamineMouse sollte vor dieser Funktion aufgerufen werden, um die aktuelle
  Maus-Position zu aktualisieren.

@NoParameters

@ReturnValue
  Die aktuelle 'x'-Position der Maus (in Pixel) auf dem aktuellen Bildschirm.
  
@SeeAlso
  @@ExamineMouse, @@MouseLocate, @@MouseY

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Ergebnis = MouseY()

@Description
  Gibt die aktuelle Maus-Position (in Pixel) auf der Y-Achse des aktuellen Bildschirms
  zurück. Die Maus-Position kann einfach mit dem @@MouseLocate Befehl verändert werden.
  @@ExamineMouse muss vor dieser Funktion aufgerufen werden, um die aktuelle
  Maus-Position zu aktualisieren.

@NoParameters

@ReturnValue
  Die aktuelle 'y'-Position der Maus (in Pixel) auf dem aktuellen Bildschirm.
  
@SeeAlso
  @@ExamineMouse, @@MouseLocate, @@MouseX

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ReleaseMouse(Status)

@Description
  Blockiert ("locked") die Maus oder gibt sie zur Benutzung unter dem Standard-OS frei. Dies geschieht
  typischerweise nach Überprüfung des Ergebnisses von @@IsScreenActive.

@Parameter "Status"
@FixedFont
  @#True  : die Maus wird freigegeben.
  @#False : die Maus wird vom PureBasic Programm "locked".
@EndFixedFont

@NoReturnValue
  
@SeeAlso
  @@IsScreenActive

@SupportedOS
